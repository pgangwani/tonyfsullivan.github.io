<svelte:window on:scroll='handleScroll()' />

<div class='fixed bottom-0 right-0 pointer' on:click='scrollToPageTop()'>
    <div class='primary tc center pv2 ph3 { shouldShowScrollTopArrow ? "di" : "dn" }'>
        <button class='fas fa-angle-double-up fa-2x' href='#' />
        <div class='f7 tc pt1'>To Top</div>
    </div>
</div>

<script>
    import { toTop as scrollToPageTop } from '../_scroll';

    export default {
        methods: {
            handleScroll() {
                if (!document || !document.documentElement) return;
                
                const boundingRect = document.documentElement.getBoundingClientRect();
                this.set({
                    shouldShowScrollTopArrow: boundingRect.top * -1 > 100
                });
            },
            scrollToPageTop
        },
    }
</script>